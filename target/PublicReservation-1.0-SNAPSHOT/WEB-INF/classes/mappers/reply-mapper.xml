<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="replyMapper">

    <resultMap type="reply" id="replyResultSet">
        <result column="REPLY_NO" property="replyNo"/>
        <result column="REPLY_CONTENT" property="replyContent"/>
        <result column="REF_SVCID" property="refSvcId"/>
        <result column="REPLY_WRITER" property="replyWriter"/>
        <result column="CREATE_DATE" property="createDate"/>
        <result column="STATUS" property="status"/>
    </resultMap>



    <select id="selectReplyList" parameterType="int" resultMap="replyResultSet">
        SELECT
            REPLY_NO,
            REPLY_CONTENT,
            REF_SVCID,
            CREATE_DATE,
            STATUS,
            REPLY_WRITER
        FROM REPLY
        WHERE REF_SVCID = #{svcId}
          AND STATUS = 'Y'
    </select>

    <insert id="insertReply" parameterType="reply">
        INSERT INTO REPLY(REPLY_NO, REPLY_CONTENT, REF_SVCID, REPLY_WRITER, CREATE_DATE, STATUS)
        VALUES (SEQ_RNO.NEXTVAL, #{replyContent}, #{refSvcId}, #{replyWriter}, SYSDATE , DEFAULT)
    </insert>



</mapper>